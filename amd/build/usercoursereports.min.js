/**
 * AMD module for User Course Reports filter + AJAX call
 *
 * @copyright  2025 https://santoshmagar.com.np/
 * @author     santoshtmp7
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("report_usercoursereports/usercoursereports",["jquery","core/ajax"],(function($,Ajax){var filter_area_id="report-usercoursereports-filter-area";function get_filter_report_table(formquerystring){$("#"+filter_area_id).attr("aria-busy","true"),$("#applyfilter").prop("disabled",!0),$("#filter-loading-wrapper").show();const request={methodname:"report_usercoursereports_get_report_table",args:{querystring:formquerystring}},ajaxrequest=Ajax.call([request])[0];ajaxrequest.done((function(response){response.status&&response.reporttable&&(window.history.replaceState("","url",response.pageurl),$("#"+filter_area_id).replaceWith(response.reporttable))})),ajaxrequest.fail((function(response){window.console.log(response)})),ajaxrequest.always((function(){$("#"+filter_area_id).removeAttr("aria-busy"),$("#applyfilter").prop("disabled",!1),$("#filter-loading-wrapper").hide()}))}return{init:function(){$(".usercoursereports-filter-field div.col-md-3, .usercoursereports-filter-field div.col-md-9").each((function(){$(this).removeClass("col-md-3 col-md-9")})),$("#usercoursereports-filter").on("submit",(function(e){if("cancel"!=$(this).find("input[type=submit]:focus").attr("name")){e.preventDefault();get_filter_report_table($(this).serialize())}})),$(document).on("click","#"+filter_area_id+" nav.pagination a.page-link",(function(e){e.preventDefault();get_filter_report_table($(this).attr("href").split("?")[1])}))}}}));

//# sourceMappingURL=usercoursereports.min.js.map